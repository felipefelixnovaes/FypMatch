// FypMatch Android Jetpack Compose .cursorrules
// Otimizado para o projeto FypMatch - App de namoro com IA
// Sistema de Login/Cadastro AutomÃ¡tico (sem lista de espera)

// ===== ESTRUTURA DO PROJETO FYPMATCH =====

const projectStructure = `
app/src/main/java/com/ideiassertiva/FypMatch/
â”œâ”€â”€ data/repository/          # Camada de dados (Firebase, APIs)
â”‚   â”œâ”€â”€ AuthRepository.kt     # AutenticaÃ§Ã£o (Google, Email, Phone)
â”‚   â”œâ”€â”€ UserRepository.kt     # GestÃ£o de usuÃ¡rios
â”‚   â”œâ”€â”€ LocationRepository.kt # GPS e proximidade
â”‚   â”œâ”€â”€ ChatRepository.kt     # Sistema de chat
â”‚   â”œâ”€â”€ DiscoveryRepository.kt # Swipe e matches
â”‚   â”œâ”€â”€ PhotoRepository.kt    # Upload de fotos
â”‚   â””â”€â”€ AICounselorRepository.kt # IA conselheira
â”œâ”€â”€ model/                    # Modelos de domÃ­nio
â”‚   â”œâ”€â”€ User.kt              # Modelo principal do usuÃ¡rio
â”‚   â”œâ”€â”€ Match.kt             # Modelo de matches
â”‚   â”œâ”€â”€ Message.kt           # Modelo de mensagens
â”‚   â””â”€â”€ AccessLevel.kt       # Controle de acesso
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ screens/             # Telas Compose
â”‚   â”‚   â”œâ”€â”€ WelcomeScreen.kt
â”‚   â”‚   â”œâ”€â”€ LoginScreen.kt
â”‚   â”‚   â”œâ”€â”€ SignUpScreen.kt  # Nova tela de cadastro
â”‚   â”‚   â”œâ”€â”€ DiscoveryScreen.kt
â”‚   â”‚   â”œâ”€â”€ ChatScreen.kt
â”‚   â”‚   â””â”€â”€ ProfileScreen.kt
â”‚   â”œâ”€â”€ navigation/          # Sistema de navegaÃ§Ã£o
â”‚   â”‚   â””â”€â”€ FypMatchNavigation.kt
â”‚   â”œâ”€â”€ theme/               # Tema Material Design 3
â”‚   â”‚   â”œâ”€â”€ Theme.kt
â”‚   â”‚   â”œâ”€â”€ Color.kt
â”‚   â”‚   â””â”€â”€ Type.kt
â”‚   â””â”€â”€ viewmodel/           # ViewModels com Hilt
â”‚       â”œâ”€â”€ LoginViewModel.kt
â”‚       â”œâ”€â”€ SignUpViewModel.kt # Novo ViewModel
â”‚       â”œâ”€â”€ DiscoveryViewModel.kt
â”‚       â””â”€â”€ ProfileViewModel.kt
â”œâ”€â”€ di/                      # Dependency Injection (Hilt)
â”‚   â””â”€â”€ AppModule.kt
â””â”€â”€ util/                    # UtilitÃ¡rios
    â”œâ”€â”€ AnalyticsManager.kt
    â”œâ”€â”€ LocationManager.kt
    â””â”€â”€ AdMobConfig.kt
`;

// ===== FLUXO DE AUTENTICAÃ‡ÃƒO FYPMATCH =====

const authFlow = `
1. GOOGLE LOGIN:
   - Login automÃ¡tico com Google
   - Se perfil existe â†’ Discovery
   - Se perfil nÃ£o existe â†’ Criar perfil automaticamente â†’ Discovery

2. EMAIL LOGIN:
   - Verificar se email existe
   - Se existe â†’ Login â†’ Discovery
   - Se nÃ£o existe â†’ Tela de cadastro

3. PHONE LOGIN:
   - Verificar se telefone existe
   - Se existe â†’ Login â†’ Discovery
   - Se nÃ£o existe â†’ Tela de cadastro

4. CRIAÃ‡ÃƒO AUTOMÃTICA DE PERFIL:
   - Dados bÃ¡sicos do Google/Email/Phone
   - Fotos aleatÃ³rias para teste
   - LocalizaÃ§Ã£o padrÃ£o (SÃ£o Paulo)
   - AccessLevel.FULL_ACCESS automÃ¡tico
`;

// ===== GUIDELINES ESPECÃFICAS DO FYPMATCH =====

const fypMatchGuidelines = `
1. AUTENTICAÃ‡ÃƒO SEM LISTA DE ESPERA:
   - Google: CriaÃ§Ã£o automÃ¡tica de perfil
   - Email/Phone: Direcionamento para cadastro se nÃ£o existir
   - Todos os usuÃ¡rios tÃªm acesso completo
   - Usar AnalyticsManager para tracking

2. FIREBASE INTEGRATION:
   - Firestore para dados de perfil e preferÃªncias
   - Realtime Database para chat e status online
   - Firebase Storage para fotos (com URLs aleatÃ³rias para teste)
   - Implementar offline support com cache local

3. UI/UX PATTERNS:
   - Usar Material Design 3 com tema rosa/roxo personalizado
   - Implementar gradientes para telas premium
   - Seguir padrÃ£o de cards para exibiÃ§Ã£o de perfis
   - Usar emojis consistentemente na UI (ğŸ’•, ğŸ”, ğŸ“, etc.)

4. ESTADO E NAVEGAÃ‡ÃƒO:
   - Usar sealed classes para estados (LoginUiState, SignUpUiState)
   - Implementar navegaÃ§Ã£o automÃ¡tica baseada em perfil
   - Gerenciar loading states em todos os ViewModels
   - Usar collectAsStateWithLifecycle() para observar estados

5. TESTING COM DADOS FICTÃCIOS:
   - Criar usuÃ¡rios de teste automaticamente
   - Usar fotos aleatÃ³rias do Picsum/Lorem Picsum
   - Coordenadas reais de SÃ£o Paulo
   - Perfis completos para teste de funcionalidades

6. PERFORMANCE:
   - Usar LazyColumn/LazyRow para listas
   - Implementar paginaÃ§Ã£o para discovery
   - Otimizar imagens com thumbnails
   - Usar remember() adequadamente para evitar recomposiÃ§Ãµes
`;

// ===== COMPOSE BEST PRACTICES FYPMATCH =====

const composeBestPractices = [
    "Usar @HiltViewModel em todos os ViewModels",
    "Implementar @Preview para todas as telas",
    "Seguir naming convention: NomeScreen.kt, NomeViewModel.kt",
    "Usar collectAsStateWithLifecycle() para StateFlow",
    "Implementar proper state hoisting",
    "Usar MaterialTheme.colorScheme para cores",
    "Implementar proper error handling com try-catch",
    "Usar Modifier.fillMaxSize() consistentemente",
    "Implementar loading states com CircularProgressIndicator",
    "Usar proper spacing com Spacer(Modifier.height())"
];

// ===== FIREBASE PATTERNS FYPMATCH =====

const firebasePatterns = `
1. REPOSITORY PATTERN:
   - Sempre retornar Result<T> para operaÃ§Ãµes Firebase
   - Implementar try-catch em todas as operaÃ§Ãµes
   - Usar .await() para operaÃ§Ãµes sÃ­ncronas
   - Implementar Flow para dados em tempo real

2. FIRESTORE STRUCTURE:
   users/{userId} - Dados principais do usuÃ¡rio
   profiles/{userId} - Perfil detalhado
   preferences/{userId} - PreferÃªncias de match
   matches/{matchId} - Dados de matches
   conversations/{conversationId} - Metadados de conversas

3. REALTIME DATABASE STRUCTURE:
   usuarios_online/{userId} - Status online/offline
   localizacoes/{userId} - LocalizaÃ§Ã£o GPS atual
   conversas/{conversationId}/mensagens - Mensagens em tempo real

4. ERROR HANDLING:
   - Usar AnalyticsManager.logError() para tracking
   - Implementar fallbacks para operaÃ§Ãµes crÃ­ticas
   - Mostrar mensagens de erro user-friendly
   - Implementar retry logic quando apropriado
`;

// ===== DADOS FICTÃCIOS PARA TESTE =====

const testDataPatterns = `
1. FOTOS ALEATÃ“RIAS:
   - Usar Picsum Photos: https://picsum.photos/400/400?random=1
   - Gerar URLs diferentes para cada usuÃ¡rio
   - Implementar fallback para fotos padrÃ£o

2. PERFIS DE TESTE:
   - Nomes brasileiros realistas
   - Idades entre 18-45 anos
   - Bios interessantes e variadas
   - LocalizaÃ§Ãµes em SÃ£o Paulo

3. COORDENADAS DE SÃƒO PAULO:
   - Centro: -23.5505, -46.6333
   - Paulista: -23.5613, -46.6565
   - Vila Madalena: -23.5368, -46.6890
   - Ibirapuera: -23.5873, -46.6573

4. DADOS REALISTAS:
   - ProfissÃµes variadas
   - Interesses diversos
   - EducaÃ§Ã£o completa
   - PreferÃªncias de match configuradas
`;

// ===== TESTING PATTERNS FYPMATCH =====

const testingPatterns = [
    "Usar TestScope.runTest para testes de coroutines",
    "Implementar mocks com MockK relaxed = true",
    "Testar com coordenadas reais de SÃ£o Paulo",
    "Usar Truth assertions para melhor legibilidade",
    "Implementar testes de integraÃ§Ã£o com Firebase Emulator",
    "Testar estados de loading, success e error",
    "Usar InstantTaskExecutorRule para LiveData/StateFlow",
    "Implementar testes de UI com ComposeTestRule"
];

// ===== SECURITY & PRIVACY FYPMATCH =====

const securityGuidelines = [
    "Todos os usuÃ¡rios tÃªm AccessLevel.FULL_ACCESS",
    "Validar permissÃµes de localizaÃ§Ã£o antes de usar GPS",
    "Implementar rate limiting para operaÃ§Ãµes sensÃ­veis",
    "Usar Firebase Security Rules para proteÃ§Ã£o de dados",
    "Implementar validaÃ§Ã£o de entrada em todos os formulÃ¡rios",
    "Usar HTTPS para todas as comunicaÃ§Ãµes",
    "Implementar logout automÃ¡tico por inatividade"
];

// ===== PERFORMANCE OPTIMIZATION FYPMATCH =====

const performanceOptimization = [
    "Usar paginaÃ§Ã£o para lista de usuÃ¡rios no Discovery",
    "Implementar cache local para perfis visualizados",
    "Otimizar imagens com diferentes resoluÃ§Ãµes",
    "Usar lazy loading para fotos de perfil",
    "Implementar debounce para busca de usuÃ¡rios",
    "Usar background processing para upload de fotos",
    "Implementar proper memory management para bitmaps",
    "Usar ProGuard/R8 para ofuscaÃ§Ã£o e otimizaÃ§Ã£o"
];

// ===== AI INTEGRATION FYPMATCH =====

const aiIntegration = [
    "Usar Gemini API para funcionalidades de IA",
    "Implementar sistema de crÃ©ditos para IA",
    "Usar AICounselorRepository para gerenciar sessÃµes",
    "Implementar fallbacks quando IA nÃ£o estÃ¡ disponÃ­vel",
    "Usar analytics para tracking de uso da IA",
    "Implementar rate limiting para chamadas da IA",
    "Usar context apropriado para prompts da IA",
    "Implementar error handling robusto para IA"
];

// ===== MONETIZATION PATTERNS FYPMATCH =====

const monetizationPatterns = [
    "Usar Google Play Billing para assinaturas",
    "Implementar AdMob para anÃºncios recompensados",
    "Usar SubscriptionStatus enum para controle de acesso",
    "Implementar sistema de crÃ©ditos para funcionalidades premium",
    "Usar analytics para tracking de conversÃµes",
    "Implementar A/B testing para preÃ§os",
    "Usar proper error handling para transaÃ§Ãµes",
    "Implementar restore purchases functionality"
];

// ===== CODE STYLE FYPMATCH =====

const codeStyle = [
    "Usar PascalCase para classes e arquivos",
    "Usar camelCase para funÃ§Ãµes e variÃ¡veis",
    "Usar UPPER_SNAKE_CASE para constantes",
    "Prefixar ViewModels com nome da tela (LoginViewModel)",
    "Usar sufixo Repository para classes de dados",
    "Usar sufixo Screen para Composables de tela",
    "Implementar proper documentation com KDoc",
    "Usar meaningful variable names",
    "Implementar proper error messages em portuguÃªs",
    "Usar emojis consistentemente para melhor UX"
];

// INSTRUÃ‡Ã•ES FINAIS:
// 1. Remover completamente sistema de lista de espera
// 2. Implementar login/cadastro automÃ¡tico
// 3. Criar perfis automaticamente para Google
// 4. Direcionar para cadastro se email/phone nÃ£o existir
// 5. Usar dados fictÃ­cios realistas para teste
// 6. Implementar fotos aleatÃ³rias
// 7. Dar acesso completo a todos os usuÃ¡rios
// 8. Testar fluxo completo de autenticaÃ§Ã£o
// 9. Verificar salvamento no Firebase
// 10. Manter consistÃªncia com cÃ³digo existente 